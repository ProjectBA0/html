<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>
    async function loadData() {    // 데이터를 불러오는 비동기 함수 정의
        const REST_API_KEY = '24a827a27e19b0001a3c2a49b71c8dbb'
        const params = new URLSearchParams({
            target: 'title',
            query: "자바스크립트" ,
            size: 50
        })
        const url = `https://dapi.kakao.com/v3/search/book?${params}`
    try {

        const response = await fetch(url,{
            method: 'GET',
            headers: {
                Authorization: `KakaoAK ${REST_API_KEY}`
            }
        });    // JSON 데이터 요청
        console.log(response)

        if(!response.ok){
            throw new Error(' HTTP오류-상태코드 :'+response.status)
        }

        const data = await response.json();    // 응답 데이터를 JSON 형태로 변환

        console.log(data);    // 변환된 JSON 데이터를 객체로 바꿈

    } catch (error) {

        console.log("에러 발생", error);    // 요청 실패 시 에러 출력 

    }

    }
    loadData();
    </script>
</body>
</html>